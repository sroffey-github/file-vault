<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link rel="stylesheet" href="../static/css/share.css">
    <title>Upload File</title>
</head>
<body>

    <div class="navbar" id="navbar">
        <a href="/">Home</a>
        <a href="/upload">Upload</a>
        <a class="active" href="/share">Share File</a>
    </div>

    <form method="POST" class="upload-file" enctype="multipart/form-data">
        <input type="file" name="file" multiple>
        <p class="p1">Drag your files here or click in this area.</p>
        <button type="submit">Upload</button>

        {% if link is defined %}<p onclick="copyToClipboard('#link')" id="link" class="link">{{link}}</p>{% endif %} <!-- when user clicks copy to users clipboard -->
        
        {% for msg in get_flashed_messages() %}
          <p style="color: red;">{{ msg }}</p>
        {% endfor %}
    </form>

    <div class="footer">
        <a href="/logout">Logout</a>
    </div>

    <script>
        function shrinkNav() {
          var x = document.getElementById("navbar");
          if (x.className === "navbar") {
            x.className += " responsive";
          } else {
            x.className = "navbar";
          }
        }
    </script>

    <script>
      function copyToClipboard(element) {
        var $temp = $("<input>");
        $("body").append($temp);
        $temp.val($(element).text()).select();
        document.execCommand("copy");
        $temp.remove();
      }
    </script>
</body>
</html>